/* eslint-disable no-unused-vars */
"use strict";

module.exports = {
  async up(queryInterface, Sequelize) {
    await queryInterface.sequelize.transaction(async (t) => {
      await queryInterface.sequelize.query("CREATE TABLE `password_reset_tokens` (\n`id` int NOT NULL AUTO_INCREMENT,\n`user_id` int NOT NULL,\n`token_hash` char(64) NOT NULL,\n`expires_at` datetime NOT NULL,\n`revoked_at` datetime DEFAULT NULL,\n`created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,\nPRIMARY KEY (`id`),\nKEY `idx_token_hash` (`token_hash`),\nKEY `idx_user_expires` (`user_id`,`expires_at`)\n) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;", { transaction: t });
      await queryInterface.sequelize.query("CREATE TABLE `shop_settings` (\n`id` int NOT NULL AUTO_INCREMENT,\n`store_name` varchar(150) NOT NULL DEFAULT 'Kavita',\n`store_slug` varchar(100) DEFAULT NULL,\n`cnpj` varchar(20) DEFAULT NULL,\n`main_email` varchar(150) DEFAULT NULL,\n`main_whatsapp` varchar(30) DEFAULT NULL,\n`logo_url` varchar(255) DEFAULT NULL,\n`checkout_require_cpf` tinyint(1) NOT NULL DEFAULT '1',\n`checkout_require_address` tinyint(1) NOT NULL DEFAULT '1',\n`checkout_allow_pickup` tinyint(1) NOT NULL DEFAULT '0',\n`checkout_enable_coupons` tinyint(1) NOT NULL DEFAULT '1',\n`checkout_enable_abandoned_cart` tinyint(1) NOT NULL DEFAULT '1',\n`payment_pix_enabled` tinyint(1) NOT NULL DEFAULT '1',\n`payment_card_enabled` tinyint(1) NOT NULL DEFAULT '1',\n`payment_boleto_enabled` tinyint(1) NOT NULL DEFAULT '0',\n`mp_public_key` varchar(200) DEFAULT NULL,\n`mp_access_token` varchar(200) DEFAULT NULL,\n`mp_auto_return` varchar(50) DEFAULT 'approved',\n`mp_sandbox_mode` tinyint(1) NOT NULL DEFAULT '1',\n`shipping_flat_enabled` tinyint(1) NOT NULL DEFAULT '0',\n`shipping_flat_value` decimal(10,2) NOT NULL DEFAULT '0.00',\n`shipping_free_over` decimal(10,2) NOT NULL DEFAULT '0.00',\n`shipping_region_text` varchar(255) DEFAULT NULL,\n`shipping_deadline_text` varchar(255) DEFAULT NULL,\n`comm_email_enabled` tinyint(1) NOT NULL DEFAULT '1',\n`comm_whatsapp_enabled` tinyint(1) NOT NULL DEFAULT '1',\n`seo_title` varchar(160) DEFAULT NULL,\n`seo_description` varchar(255) DEFAULT NULL,\n`google_analytics_id` varchar(50) DEFAULT NULL,\n`facebook_pixel_id` varchar(50) DEFAULT NULL,\n`created_at` datetime DEFAULT CURRENT_TIMESTAMP,\n`updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n`footer_tagline` varchar(255) DEFAULT NULL,\n`contact_whatsapp` varchar(50) DEFAULT NULL,\n`contact_email` varchar(120) DEFAULT NULL,\n`social_instagram_url` varchar(255) DEFAULT NULL,\n`social_whatsapp_url` varchar(255) DEFAULT NULL,\n`footer_partner_cta_enabled` tinyint(1) NOT NULL DEFAULT '1',\n`footer_partner_cta_title` varchar(80) DEFAULT NULL,\n`footer_partner_cta_text` varchar(500) DEFAULT NULL,\n`footer_partner_cta_href` varchar(120) DEFAULT NULL,\n`footer_links` json DEFAULT NULL,\n`address_city` varchar(80) DEFAULT NULL,\n`address_state` varchar(2) DEFAULT NULL,\n`address_street` varchar(120) DEFAULT NULL,\n`address_neighborhood` varchar(80) DEFAULT NULL,\n`address_zip` varchar(12) DEFAULT NULL,\nPRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;", { transaction: t });
      await queryInterface.sequelize.query("CREATE TABLE `site_hero_settings` (\n`id` int NOT NULL AUTO_INCREMENT,\n`hero_video_url` varchar(255) DEFAULT NULL,\n`hero_video_path` varchar(255) DEFAULT NULL,\n`hero_image_url` varchar(255) DEFAULT NULL,\n`title` varchar(255) DEFAULT NULL,\n`subtitle` varchar(500) DEFAULT NULL,\n`hero_image_path` varchar(255) DEFAULT NULL,\n`button_label` varchar(80) NOT NULL DEFAULT 'Saiba Mais',\n`button_href` varchar(255) NOT NULL DEFAULT '/drones',\n`updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n`created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,\nPRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;", { transaction: t });
    });
  },

  async down(queryInterface, Sequelize) {
    await queryInterface.sequelize.transaction(async (t) => {
      await queryInterface.sequelize.query("DROP TABLE IF EXISTS `site_hero_settings`;", { transaction: t });
      await queryInterface.sequelize.query("DROP TABLE IF EXISTS `shop_settings`;", { transaction: t });
      await queryInterface.sequelize.query("DROP TABLE IF EXISTS `password_reset_tokens`;", { transaction: t });
    });
  },
};
